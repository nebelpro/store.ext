!function (e, t) {
    "object" == typeof exports && "undefined" != typeof module ? t(exports) : "function" == typeof define && define.amd ? define(["exports"], t) : t(e.storext = e.storext || {})
}(this, function (e) {
    "use strict";
    function t(e, t) {
        return t = {exports: {}}, e(t, t.exports), t.exports
    }

    function n(e, t) {
        void 0 === t && (t = 1);
        var n = s.get(m) || {};
        n[e] = t, s.set(m, n)
    }

    function r(e) {
        var t = s.get(m) || {};
        for (var n in t) {
            var r = t(n);
            r < e && f(n)
        }
    }

    function i(e) {
        var t = s.get(m) || {};
        for (var n in t)n.indexOf(e) > -1 && u(n)
    }

    function o() {
        var e = s.get(m) || {};
        for (var t in e)u(t)
    }

    function a(e) {
        void 0 === e && (e = {});
        var t = e.prefix, n = e.level;
        return n ? void r(n) : t ? void i(t) : void o()
    }

    function u(e) {
        var t = t || s.get(e);
        c(e, t), d(e, t)
    }

    function f(e) {
        var t = s.get(m) || {};
        delete t[e], s.set(m, t), s.remove(e)
    }

    function c(e, t) {
        return t = t || s.get(e), !(t.exp != -1 && (new Date).getTime() - t.time > t.exp) || (f(e), !1)
    }

    function d(e, t) {
        if (t = t || s.get(e), t && t.read != -1) {
            var n = t.readed || 0;
            if (n >= t.read)return f(e), !1;
            var r = n + 1;
            return r == t.read ? f(e) : (t.readed = r, s.set(e, t)), !0
        }
        return !0
    }

    function v(e, t, r) {
        var i = r.exp;
        void 0 === i && (i = -1);
        var o = r.read;
        void 0 === o && (o = -1);
        var a = r.level;
        void 0 === a && (a = 1), s.set(e, {
            val: t,
            exp: i == -1 ? -1 : 6e4 * i,
            time: (new Date).getTime(),
            read: o,
            level: a
        }), n(e, a)
    }

    var l = "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : {}, s = t(function (e, t) {
        !function (n, r) {
            "function" == typeof define && define.amd ? define([], r) : "object" == typeof t ? e.exports = r() : n.store = r()
        }(l, function () {
            function e() {
                try {
                    return o in r && r[o]
                } catch (e) {
                    return !1
                }
            }

            var t, n = {}, r = "undefined" != typeof window ? window : l, i = r.document, o = "localStorage", a = "script";
            if (n.disabled = !1, n.version = "1.3.20", n.set = function (e, t) {
                }, n.get = function (e, t) {
                }, n.has = function (e) {
                    return void 0 !== n.get(e)
                }, n.remove = function (e) {
                }, n.clear = function () {
                }, n.transact = function (e, t, r) {
                    null == r && (r = t, t = null), null == t && (t = {});
                    var i = n.get(e, t);
                    r(i), n.set(e, i)
                }, n.getAll = function () {
                }, n.forEach = function () {
                }, n.serialize = function (e) {
                    return JSON.stringify(e)
                }, n.deserialize = function (e) {
                    if ("string" == typeof e)try {
                        return JSON.parse(e)
                    } catch (t) {
                        return e || void 0
                    }
                }, e()) t = r[o], n.set = function (e, r) {
                return void 0 === r ? n.remove(e) : (t.setItem(e, n.serialize(r)), r)
            }, n.get = function (e, r) {
                var i = n.deserialize(t.getItem(e));
                return void 0 === i ? r : i
            }, n.remove = function (e) {
                t.removeItem(e)
            }, n.clear = function () {
                t.clear()
            }, n.getAll = function () {
                var e = {};
                return n.forEach(function (t, n) {
                    e[t] = n
                }), e
            }, n.forEach = function (e) {
                for (var r = 0; r < t.length; r++) {
                    var i = t.key(r);
                    e(i, n.get(i))
                }
            }; else if (i && i.documentElement.addBehavior) {
                var u, f;
                try {
                    f = new ActiveXObject("htmlfile"), f.open(), f.write("<" + a + ">document.w=window</" + a + '><iframe src="/favicon.ico"></iframe>'), f.close(), u = f.w.frames[0].document, t = u.createElement("div")
                } catch (e) {
                    t = i.createElement("div"), u = i.body
                }
                var c = function (e) {
                    return function () {
                        var r = Array.prototype.slice.call(arguments, 0);
                        r.unshift(t), u.appendChild(t), t.addBehavior("#default#userData"), t.load(o);
                        var i = e.apply(n, r);
                        return u.removeChild(t), i
                    }
                }, d = new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]", "g"), v = function (e) {
                    return e.replace(/^d/, "___$&").replace(d, "___")
                };
                n.set = c(function (e, t, r) {
                    return t = v(t), void 0 === r ? n.remove(t) : (e.setAttribute(t, n.serialize(r)), e.save(o), r)
                }), n.get = c(function (e, t, r) {
                    t = v(t);
                    var i = n.deserialize(e.getAttribute(t));
                    return void 0 === i ? r : i
                }), n.remove = c(function (e, t) {
                    t = v(t), e.removeAttribute(t), e.save(o)
                }), n.clear = c(function (e) {
                    var t = e.XMLDocument.documentElement.attributes;
                    e.load(o);
                    for (var n = t.length - 1; n >= 0; n--)e.removeAttribute(t[n].name);
                    e.save(o)
                }), n.getAll = function (e) {
                    var t = {};
                    return n.forEach(function (e, n) {
                        t[e] = n
                    }), t
                }, n.forEach = c(function (e, t) {
                    for (var r, i = e.XMLDocument.documentElement.attributes, o = 0; r = i[o]; ++o)t(r.name, n.deserialize(e.getAttribute(r.name)))
                })
            }
            try {
                var s = "__storejs__";
                n.set(s, s), n.get(s) != s && (n.disabled = !0), n.remove(s)
            } catch (e) {
                n.disabled = !0
            }
            return n.enabled = !n.disabled, n
        })
    }), m = "@@EXPIRE_STORE", p = {exp: 1, read: 5};
    setTimeout(function () {
        o()
    }, 1);
    var g = s, y = {
        install: function (e) {
            void 0 === e && (e = {}), Object.assign(p, e)
        }, clear: function (e) {
            a(e)
        }, remove: function (e) {
            f(e)
        }, def: function (e, t) {
            v(e, t, p)
        }, set: v, get: function (e) {
            var t = s.get(e);
            return t && c(e, t) && d(e, t) ? t.val : null
        }
    };
    e.store = g, e.cache = y, Object.defineProperty(e, "__esModule", {value: !0})
});
